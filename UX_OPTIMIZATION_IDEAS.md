# AI In-Home 用户体验优化思路

本文档整理可提升 AI 家居设计产品用户体验的优化方向，供讨论与排期参考。**仅讨论，不涉及具体实现与文档维护约定。**

---

## 产品定位与阶段

### 1. 从「功能」到「战略/生态/平台」：它可能是什么

最初把 AI 设计能力当成**功能优化**（提升体验、转化率、降低退货率），容易让人感觉「不该这么纯粹」——一旦跑起来，会牵动谁在用、数据往哪流、和别的东西怎么连在一起，所以它不像一个可以单独「做完就收工」的功能，而更像一个会**长出来别的东西**的支点。

下面几种「身份」可以帮助想清楚它到底被当成什么来规划：

| 身份 | 含义 | 对应到本产品 | 和「功能优化」的差别 |
|------|------|--------------|----------------------|
| **战略选择（Strategy）** | 公司选定的「在哪里差异化、怎么赢」的主战场 | 例如「用 AI 把先想清楚再买做到行业最好」「把看到我家摆进去什么样变成 Castlery 独有体验」 | 功能优化是在既有战略下把体验做细；战略是先定「我们要靠这个赢」，再反推该做哪些功能、做到多深 |
| **生态（Ecosystem）** | 多类角色、多种价值在同一套能力上转起来：用户、设计师/达人、供应商、数据、内容、甚至第三方（地产、装修公司） | 用户生成方案 → 方案变成可传播内容 → 吸引新用户；或「设计方案+产品」变成可对外合作的能力（B2B、异业）；或 UGC 模板/灵感池反哺推荐与转化 | 功能优化关心单次路径的转化；生态关心谁在持续参与、谁在贡献、价值如何回流 |
| **平台/能力基座（Platform）** | 同一套「识别+推荐+渲染」能力复用到多种场景、多条业务 | 同一套 AI 能力支撑：官网设计工具、线下店「拍一下你家」、营销活动「上传房间抽奖」、与装修/地产的联合方案、甚至开放 API 给合作伙伴 | 功能优化默认「就这一个入口、这一条链路」；平台是「先做成能力，再决定在多少个入口、多少种玩法里用」 |
| **增长与商业杠杆（Growth lever）** | 拉新、做高 LTV、降低退货、提升品牌的主要手段之一 | 用「AI 设计+真实渲染」做传播（社交裂变、案例、KOL）；用「先看效果再买」降低退货、提升客单价；用「设计过程」延长停留、提高复购与品类扩展 | 功能优化容易只看「这一步好不好用」；杠杆视角是「整条生意链上，它到底在扛哪几项 KPI」 |

**为什么会觉得「不该这么纯粹」**：它既是一个战略选择（靠这个差异化），又是一根增长/商业杠杆（转化、退货、品牌），同时具备「长成生态/平台」的潜力（数据、内容、多角色、多场景）。所以可以**同时**具备战略、杠杆、生态/平台属性，而不是「要么功能，要么生态」二选一。

**怎么选「主身份」**：不必马上贴死一个词，可以用三个问题试一下——

1. **公司层面，未来 1–2 年最想靠它拿到什么？** 若是「品牌差异化、定价权、用户心智」→ 更偏战略；若是「转化率、退货率、客单价、复购」→ 更偏增长/商业杠杆；若是「新用户来源、内容供给、合作方、新渠道」→ 更偏生态；若是「多条业务线都能用同一套能力」→ 更偏平台。
2. **成功时，除了「用户多、转化高」，还会多出什么？** 多出「大量可复用的房间/方案数据、UGC 内容、合作方」→ 生态感更强；多出「一套可被营销/线下/B2B 调用的能力」→ 平台感更强；多出「行业里一提 Castlery 就想到的设计体验」→ 战略感更强。
3. **资源与协作上，它应该被谁「拥有」、和谁强绑定？** 若是产品/设计主导、配合运营和增长 → 仍可当「大功能+杠杆」；若要联动商业、数据、合作、甚至新业务线 → 更适合当成战略级项目或生态/平台，需要更高层的共识和架构。

**小结**：它起步可以是「功能优化」，本质更适合被看成**一个以 AI 设计体验为核心的战略支点**——既能当增长与商业杠杆，又具备长成生态/平台的潜力。「生态」这个词准不准，取决于是否**有意**去放大「多角色、多场景、价值回流」；若暂时只做 C 端单链路，可以叫「战略功能」或「增长杠杆」，等真的打开 B 端/内容/合作，再叫生态会更贴切。

---

### 2. 前期与后期：功能体验 → 分享 → 社区 → 文化 → 设计平台

**前期**：做实**功能体验**，直接挂钩**转化率、退货率、客单价、复购**。用数据证明「AI 设计+真实渲染」值得长期投入；这一步做稳了，后面的分享、社区、文化、平台才有底盘。

**后期**：「分享、社区、文化、设计平台」不用并列着记，可以看成同一件事的不同侧面：

| 概念 | 含义 | 和前后关系 |
|------|------|------------|
| **分享** | 单点能力：生成一张图/一个方案 → 分享出去 | 不依赖社区就能做；分享数据还能反哺「什么方案受欢迎」 |
| **社区** | 把「分享」变成持续发生的事：大家发方案、点赞、跟做、简单互动 | 依赖「有足够多可分享的内容」；社区又能反哺内容和文化 |
| **文化** | 社区跑久之后长出来的东西：风格、偏好、梗、归属感（「Castlery 用户都这样搭」） | 不单独做一个项目，而是社区+运营跑出来的结果 |
| **设计平台** | 把「AI 设计+渲染+产品」抽象成能力，不只给自己用，还给合作方、设计师、甚至第三方用 | 可以和「分享/社区」并行或稍后，取决于是否要接外部合作、线下、活动等 |

**关系**：先有「可分享的内容」→ 再做「有人来的社区」→ 自然会有「文化」；同时把能力抽成「设计平台」给更多场景用。

**建议顺序**：

| 阶段 | 重心 | 说明 |
|------|------|------|
| **现在** | 功能体验 + 转化/退货/客单价/复购 | 底盘，必须稳 |
| **下一波** | **分享**（方案/图片可分享、可传播） | 不依赖社区就能做；分享数据还能反哺「什么方案受欢迎」 |
| **再下一波** | **社区**（看别人的方案、点赞、跟做、简单互动） | 依赖「有足够多可分享的内容」；社区又能反哺内容和文化 |
| **文化** | 不单独做一个项目，而是社区+运营跑出来的结果 | 做内容主题、活动、标签、故事，让社区有性格 |
| **设计平台** | 能力抽象、多场景复用（官网/线下/B2B/API） | 等「一条主链路」已经证明价值、且有多场景需求时，再抽能力、做平台，会更容易说清优先级和 ROI |

**一句话**：前期就是功能体验驱动的增长与商业杠杆；后期「分享 → 社区 → 文化」是一条线，「设计平台」是另一条线（能力复用、多场景）。「啥都想做」可以都保留在愿景里，落地时按**阶段**和**依赖关系**排：先做实体验和指标，再做透分享，再做社区，文化和平台在合适的时候接上，就不会散。

---

## 一、交互体验创新

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 1.1 | 渐进式推荐（Progressive Disclosure） | 一次性返回所有推荐，用户需全部看完再决定 | 先返回「核心 3 件」（沙发+茶几+主灯），用户确认后再推荐「补充件」（边几、装饰品等）；或按「必须→重要→可选」分层，用户逐层展开 | 降低决策压力，提高完成率 |
| 1.2 | 实时预览预算影响 | 选择后才显示总价，超预算再调整 | 悬停商品时实时显示「加入后总价」和「剩余预算」；超预算时自动高亮「可替换的便宜选项」或「可移除的已选商品」 | 减少来回调整，提升决策效率 |
| 1.3 | 拖拽式「风格试衣间」 | 风格在设置阶段选一次，后续难调 | 渲染结果页提供「风格滑块」（现代↔传统、简约↔繁复、暖色↔冷色），拖拽实时生成新方案；或「风格滤镜」一键切换（北欧/工业/日式等） | 降低试错成本，提升探索乐趣 |

---

## 二、智能辅助与主动建议

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 2.1 | AI 主动提问式引导 | 用户填表单，AI 被动响应 | AI 主动问「这个房间主要用来做什么？」「家里有宠物/小孩吗？」「采光如何？」等，根据回答动态调整推荐策略（如宠物→易清洁材质，小孩→圆角家具） | 收集更精准的上下文，提升推荐质量 |
| 2.2 | 冲突检测与自动优化 | 用户手动选，可能尺寸冲突或风格不搭 | 实时检测「尺寸冲突」（沙发+茶几+过道空间不足）、「风格冲突」（现代沙发+复古茶几）、「预算冲突」；自动建议「将 A 换成 B 可节省 X 元且风格更统一」或「移除 C 可让空间更宽敞」 | 减少用户犯错，提升方案合理性 |
| 2.3 | 基于时间的智能提醒 | 无 | 检测到「客厅+预算充足+风格现代」时提示「这个组合在促销，3 天后结束」；或「您浏览的这款沙发库存仅剩 2 件，建议尽快决定」 | 提升转化，减少缺货遗憾 |

---



## 三、社交与分享创新

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 3.1 | 「设计 DNA」分享码 | 分享链接是完整方案，他人只能看不能改 | 生成「设计 DNA 码」（房间类型+风格+预算范围+关键偏好），他人输入后 AI 生成「相似但个性化」的方案；或「设计挑战赛」：用户上传房间，社区投票最佳方案，获胜者获得优惠券 | 增加传播与参与度 |
| 3.2 | 虚拟「设计师协作」 | 无 | 支持「邀请朋友一起设计」，多人实时标注/投票/评论，AI 综合意见生成方案；或「AI 设计师档案」：不同 AI 角色（极简主义专家/色彩搭配师），用户选择后获得对应风格的推荐 | 提升参与感与趣味性 |

---

## 四、多模态输入与输出

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 4.1 | 语音描述房间 | 上传图片+手动填尺寸 | 支持语音输入「我的客厅大概 15 平米，朝南，想要现代风格，预算 2 万」，AI 解析后自动填充表单或直接开始推荐 | 降低输入门槛，适合移动端 |
| 4.2 | 视频房间扫描 | 仅单张图片 | 支持短视频上传，AI 提取关键帧分析房间结构、光线、现有家具；或 AR 实时扫描，手机摄像头识别房间尺寸和家具位置 | 信息更丰富，尺寸更准确 |
| 4.3 | 3D 模型导出与 VR 预览 | 仅 2D 渲染图 | 渲染完成后导出 3D 模型（OBJ/GLTF），用户可在 Blender/Unity 中继续编辑；或生成 VR 链接，用 VR 头显「走进」设计方案，体验真实空间感 | 满足专业用户，提升沉浸感 |

---

## 五、学习与适应

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 5.1 | 隐式偏好学习 | 无 | 记录用户「停留时间」「反复查看」「快速跳过」等行为，学习真实偏好（如总跳过深色家具→自动过滤深色；总看带储物功能的→提升储物类权重） | 越用越准，无需显式设置 |
| 5.2 | 相似用户协同过滤 | 无 | 「与您相似的用户（相似房间+预算）最终选择了这些组合」，展示「热门搭配」；或「这个组合在新加坡很受欢迎」（基于地理位置） | 社会证明，降低选择焦虑 |
| 5.3 | 失败案例学习 | 无 | 记录「用户生成但未购买」的方案，分析原因（价格/风格/尺寸），优化后续推荐；或「A+B 组合退货率高，建议避免同时推荐」 | 持续优化推荐质量 |

---

## 六、性能与体验平衡

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 6.1 | 预测性预加载 | 用户确认后才开始分析/推荐 | 用户上传图片时，后台并行「预分析房间类型」「预加载热门商品图片」「预热 AI 模型」，用户确认后直接展示结果 | 感知速度更快 |
| 6.2 | 分层渲染策略 | 一次渲染到底 | 先返回「低质量快速预览」（约 30 秒），用户满意后再生成「高清最终版」（约 2 分钟）；或「关键区域高清+背景模糊」 | 快速反馈，减少等待焦虑 |
| 6.3 | 离线模式与缓存 | 无 | 常见房间类型+风格组合预生成渲染结果缓存，用户匹配缓存时秒级返回，不匹配再实时生成 | 常见场景体验更快 |

---

## 七、情感化与个性化

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 7.1 | 情绪识别与风格适配 | 无 | 分析上传图片的「情绪」（明亮/温馨/冷峻），或用户文字描述的情绪词，推荐匹配情绪的家具（温馨→暖色+柔软材质，冷峻→线条+金属） | 更贴合用户心理需求 |
| 7.2 | 故事化推荐理由 | 推荐理由偏技术化（尺寸合适、风格匹配） | 改为故事化：「这款沙发就像为您的客厅量身定制，午后阳光洒在上面，配上您选的茶几，完美适合周末下午茶时光」；或「这个组合在新加坡很受欢迎，特别适合小户型」 | 增强代入感与购买意愿 |
| 7.3 | 个性化 AI 助手人格 | 无 | 用户可选择 AI 风格：「专业设计师」（术语+数据）、「贴心朋友」（温暖+建议）、「极简主义者」（少说多做），不同人格的推荐策略与表达方式不同 | 提升用户粘性与信任 |

---

## 八、数据价值挖掘

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 8.1 | 趋势预测与提前推荐 | 无 | 分析「即将流行的风格/颜色/材质」，提前推荐「未来 3 个月会火」的组合；或「这个风格在上升趋势，现在入手性价比高」 | 差异化价值，提升用户感知 |
| 8.2 | 跨品类搭配建议 | 仅推荐家具 | 不仅推荐家具，还推荐「搭配的装饰画/地毯/绿植/香薰」，形成完整方案；或「这个沙发+这个茶几，建议配这个颜色的窗帘，整体更协调」 | 提升客单价与方案完整性 |
| 8.3 | 季节性智能调整 | 无 | 根据季节推荐（夏季→浅色+透气材质，冬季→深色+温暖材质）；或「这个组合适合新加坡的雨季，防潮材质」 | 更贴合实际使用场景 |

---

## 九、错误处理与容错

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 9.1 | 优雅降级与部分成功 | AI 失败时回退到 mock 或报错 | 「识别了 3 件家具，但有 2 件不确定，已标记，您可以手动确认」；或「推荐了 5 件，但渲染失败，先看推荐列表，稍后重试渲染」 | 减少全流程失败，提升可用性 |
| 9.2 | 用户纠错反馈循环 | 无 | 提供「这个识别错了」按钮，用户纠正后 AI 学习并优化；或「这个推荐我不喜欢，为什么？」→ 收集原因 → 优化后续推荐 | 持续改进，提升满意度 |

---

## 十、场景化体验

| 编号 | 方向 | 现状简述 | 思路 | 价值 |
|-----|------|----------|------|------|
| 10.1 | 快速模式 vs 深度模式 | 单一流程 | 「快速模式」：3 步完成（上传→AI 推荐→确认），适合只想快速看效果的用户；「深度模式」：完整流程+多轮调整+详细对比，适合认真设计的用户 | 满足不同用户需求 |
| 10.2 | 模板库与灵感池 | 无 | 提供「热门设计方案模板库」，用户选择模板后 AI 基于其房间适配；或「灵感池」：展示其他用户的优秀方案，用户可「应用到我的房间」 | 降低启动门槛，提供参考 |

---

## 十一、技术优化思路

结合当前链路（上传 → Qwen 识别 → 推荐 → Decor8 渲染 + Product Service），从技术侧整理的优化方向，供讨论与排期。

### 1. 模型与 AI 能力

| 编号 | 方向 | 说明 | 与项目关系 |
|-----|------|------|------------|
| T1.1 | 自训/自建图像渲染模型 | 不长期依赖 Decor8 单一供应商，可控效果、成本与数据 | 当前渲染完全走 Decor8；自训后可将「渲染」做成自有能力 |
| T1.2 | 视觉模型微调 | 在通用 VL 上针对「家具类别、尺寸、风格」做 fine-tune | 提升 detect 阶段对 Castlery 品类与风格的识别准确率 |
| T1.3 | 推荐模型微调 / 排序模型 | 用「点击/加购/购买/退货」等真实行为训练排序或精排模型 | 在现有「Qwen 从候选里选」之上加一层精排，更贴合转化与退货 |
| T1.4 | 多模型策略与降级链 | 主用 Qwen，异常或超时时自动切到备用模型（如 OpenAI/Claude）或规则 | 提高可用性；可扩展为「Qwen → 备用 API → rule-based」 |
| T1.5 | 模型预热与常驻 | 对调用频繁的模型做预热、长连接或常驻实例 | 降低首请求延迟，对识别、推荐等高频步骤体验明显 |
| T1.6 | Prompt/配置与代码分离 | 系统 prompt、推荐规则、渲染描述等放配置或 CMS，可灰度调整 | 便于 A/B 测试和快速修 prompt，无需发版 |

### 2. 安全与防滥用

| 编号 | 方向 | 说明 | 与项目关系 |
|-----|------|------|------------|
| T2.1 | 防刷 / 防恶意流量 | 识别脚本、批量注册、恶意爬取、薅羊毛 | 上传、识别、推荐、渲染都是成本点；可结合设备/账号/行为做风控 |
| T2.2 | 限频 / 限流 | 按用户、IP、API Key 等维度限 QPS 或 QPD | 保护 Qwen、Decor8、Product 等下游；可按接口细分（如渲染更严格） |
| T2.3 | 上传内容校验 | 校验格式、尺寸、非图/违规图、敏感内容 | 在进 Cloudinary 和 AI 前拦截无效或违规请求 |
| T2.4 | 敏感操作人机校验 | 对「生成渲染」「批量推荐」等成本高操作做验证码或行为校验 | 降低脚本滥用，高频或异常时触发 |
| T2.5 | 配额与计费 | 按用户/租户/API 配置配额（如每日 N 次渲染） | 与限频配合，便于免费额度与商业化 |

### 3. 性能与可用性

| 编号 | 方向 | 说明 | 与项目关系 |
|-----|------|------|------------|
| T3.1 | 渲染异步化与任务队列 | 渲染请求入队，接口先返回 task_id，前端轮询或 Webhook 取结果 | 已有 poll 逻辑；可明确为「短超时 + 队列 + 回调」，避免长连接占满 |
| T3.2 | 识别/推荐结果缓存 | 对「相同/相似图片」或「相同房间参数+偏好」做缓存（如图片 hash 或 embedding 相似度） | 重复上传、刷新推荐时命中缓存，减少 Qwen 与 Product 调用与延迟 |
| T3.3 | 预计算与预热 | 对「热门房间类型+风格」组合预生成部分结果或预热模型 | 首屏或首步体验更好；可与模板库、灵感池产品思路结合 |
| T3.4 | 图片预处理管道 | 上传后先做压缩、缩放、格式统一，再给 Qwen/Decor8 | 控制输入尺寸与格式，有利于识别稳定与渲染效果 |
| T3.5 | 下游超时与重试策略 | 对 Qwen、Decor8、Product 设合理超时、重试次数和退避 | 避免单次抖动拖垮整链；配合降级链使用 |
| T3.6 | 连接池与并发控制 | 对 Qwen/Decor8 等外部 HTTP 做连接池、最大并发限制 | 防止瞬时并发过高导致对方限流或超时 |

### 4. 成本与资源

| 编号 | 方向 | 说明 | 与项目关系 |
|-----|------|------|------------|
| T4.1 | 按请求分层 | 「快速预览」用轻量模型/低分辨率，「最终出图」用完整渲染 | 与分层渲染产品思路一致；控制单次成本 |
| T4.2 | 相似请求去重 | 短时间内相同/极相似图片或参数只算一次计费或只调一次 AI | 用户多次点击「再生成」时合并或复用 |
| T4.3 | 批量/离线任务 | 非实时需求（如报表、训练数据生成）走离线队列，错峰调用 | 平滑 QPS，避免与 C 端高峰争抢 |

### 5. 可观测与数据

| 编号 | 方向 | 说明 | 与项目关系 |
|-----|------|------|------------|
| T5.1 | 全链路 RequestId | 从前端到 AI、渲染、Product 贯穿一个 id | 排查某次渲染慢/失败时能串起日志和调用链 |
| T5.2 | 核心指标与告警 | 各步耗时、成功率、Qwen/Decor8 错误码与限流次数、单次成本 | 为 SLA、容量规划和成本优化提供依据 |
| T5.3 | 特征与行为落库 | 房间类型、尺寸、风格、推荐列表、用户操作等结构化落库 | 为自训渲染、推荐精排、防刷规则提供数据基础 |
| T5.4 | A/B 实验框架 | 按用户或请求分流，对比不同模型、prompt、限频策略 | 支持换模型、改 prompt、调限频时的效果与成本对比 |

### 6. 架构与集成

| 编号 | 方向 | 说明 | 与项目关系 |
|-----|------|------|------------|
| T6.1 | 渲染结果 Webhook | Decor8 完成后回调你们服务，前端轮询你们状态接口 | 减少前端长轮询第三方；状态与重试逻辑集中在后端，便于限频与计费 |
| T6.2 | AI/产品接口版本化 | 如 `/v1/ai/detect`、`/v2/ai/recommend`，兼容旧客户端 | 推荐/渲染格式或模型升级时平滑迁移 |
| T6.3 | 配置与密钥分离 | API Key、模型名、限频阈值等从环境/配置中心读取 | 不同环境、不同限频/降级策略可独立调整 |
| T6.4 | 读写与长任务分离 | 识别/推荐可同步快速返回；渲染、批量分析走异步 worker | 与渲染异步化一致；便于对同步接口做更高 QPS 和限频 |

### 7. 与链路的对应关系（小结）

| 环节 | 可落地的技术优化 |
|------|------------------|
| **上传** | 防刷、限频、上传校验、预处理管道、配额（T2.x, T3.4） |
| **识别（Qwen Vision）** | 模型微调、多模型/降级、缓存相似图、预热、超时重试、RequestId（T1.2, T1.4, T1.5, T3.2, T3.3, T3.5, T5.1） |
| **推荐（Qwen LLM + Product）** | 推荐模型/精排、prompt 配置化、缓存房间+偏好、限频与配额（T1.3, T1.6, T3.2, T2.2, T2.5） |
| **渲染（Decor8）** | 自训渲染模型、异步+队列、Webhook、分层渲染、相似请求去重、成本监控（T1.1, T3.1, T4.1, T4.2, T6.1, T5.2） |
| **全局** | 全链路追踪、指标告警、特征落库、A/B 框架、配置与密钥管理（T5.x, T6.3） |

---

## 优先级参考

| 创新方向 | 实现难度 | 用户价值 | 推荐优先级 |
|---------|---------|---------|-----------|
| 渐进式推荐（1.1） | 中 | 高 | ⭐⭐⭐⭐⭐ |
| 实时预算预览（1.2） | 低 | 高 | ⭐⭐⭐⭐⭐ |
| AI 主动提问（2.1） | 中 | 高 | ⭐⭐⭐⭐ |
| 冲突检测（2.2） | 中 | 高 | ⭐⭐⭐⭐ |
| 语音输入（4.1） | 高 | 中 | ⭐⭐⭐ |
| 预测性预加载（6.1） | 中 | 中 | ⭐⭐⭐ |
| 情绪识别（7.1） | 高 | 中 | ⭐⭐ |
| 3D/VR 导出（4.3） | 高 | 低（小众） | ⭐⭐ |

---

*文档版本：初版 | 更新日期：2025-01-29 | 已补充「产品定位与阶段」1、2；已补充「十一、技术优化思路」*
