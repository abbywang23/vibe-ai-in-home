# 图片上传功能快速使用指南

## 🚀 快速开始

### 访问功能
1. 打开应用：http://localhost:5173
2. 点击"Start Planning"进入规划页面
3. 点击左侧面板的 **"Image"** 标签页

## 📸 使用步骤

### 方式 1: 上传空房间照片

#### 步骤 1: 上传图片
```
点击上传区域 → 选择空房间照片 → 等待上传
```

#### 步骤 2: AI 自动检测
```
系统自动分析 → 显示"空房间检测"提示
```

#### 步骤 3: 搜索家具
```
在搜索框输入: "sofa" 或 "table" → 选择产品
```

#### 步骤 4: 调整参数
```
Position X: 调整水平位置 (0-100%)
Position Y: 调整垂直位置 (0-100%)
Rotation: 调整旋转角度 (0-360°)
Scale: 调整大小 (0.5x - 2.0x)
```

#### 步骤 5: 放置家具
```
点击"Place Furniture"按钮 → 查看结果
```

### 方式 2: 上传非空房间照片

#### 步骤 1: 上传图片
```
点击上传区域 → 选择有家具的房间照片 → 等待上传
```

#### 步骤 2: 查看检测结果
```
系统显示检测到的家具列表
每个家具显示:
- 家具类型
- 置信度 (百分比)
- 位置信息
```

#### 步骤 3: 替换家具
```
选项 1: 点击"Replace with AI Suggestion" → 自动替换
选项 2: 点击"View Replacements" → 查看更多选项
```

#### 步骤 4: 查看结果
```
查看处理后的图片
查看已应用的替换列表
```

## 💡 功能特性

### 支持的图片格式
- ✅ JPEG (.jpg, .jpeg)
- ✅ PNG (.png)
- ❌ GIF, BMP, WebP (不支持)

### 文件大小限制
- 最大: 10MB
- 建议: 2-5MB (更快上传)

### AI 检测能力
- 识别房间是否为空
- 检测现有家具类型
- 提供置信度评分
- 建议替换产品

## 🎯 使用技巧

### 获得最佳效果
1. **照片质量**
   - 使用清晰的照片
   - 确保光线充足
   - 避免模糊或过暗

2. **拍摄角度**
   - 正面拍摄效果最佳
   - 避免极端角度
   - 包含完整房间

3. **家具放置**
   - 从大件家具开始（沙发、床）
   - 逐步添加小件家具
   - 注意比例和位置

### 调整参数建议

#### Position (位置)
- X: 50% = 房间中央（水平）
- Y: 50% = 房间中央（垂直）
- 边缘: 0% 或 100%

#### Rotation (旋转)
- 0° = 正面朝前
- 90° = 向右旋转
- 180° = 背面朝前
- 270° = 向左旋转

#### Scale (缩放)
- 1.0x = 原始大小
- 0.5x = 缩小一半
- 2.0x = 放大两倍

## ⚠️ 常见问题

### Q: 上传失败怎么办？
**A**: 检查以下几点：
- 文件格式是否为 JPEG/PNG
- 文件大小是否小于 10MB
- 网络连接是否正常

### Q: AI 检测不准确？
**A**: 尝试：
- 使用更清晰的照片
- 确保光线充足
- 重新拍摄照片

### Q: 找不到想要的家具？
**A**: 
- 尝试不同的搜索关键词
- 使用英文搜索（如 "sofa" 而不是 "沙发"）
- 检查拼写

### Q: 放置的家具位置不对？
**A**: 
- 使用滑块精确调整位置
- 调整缩放比例
- 尝试不同的旋转角度

## 🔄 工作流程示例

### 完整流程: 空房间设计

```
1. 上传空房间照片
   ↓
2. 等待 AI 检测 (自动)
   ↓
3. 搜索 "sofa"
   ↓
4. 选择喜欢的沙发
   ↓
5. 调整位置: X=30%, Y=60%
   ↓
6. 调整旋转: 0°
   ↓
7. 调整缩放: 1.2x
   ↓
8. 点击"Place Furniture"
   ↓
9. 查看结果
   ↓
10. 继续添加其他家具 (重复 3-9)
```

### 完整流程: 家具替换

```
1. 上传有家具的房间照片
   ↓
2. 等待 AI 检测 (自动)
   ↓
3. 查看检测到的家具列表
   ↓
4. 选择要替换的家具
   ↓
5. 点击"Replace with AI Suggestion"
   ↓
6. 查看替换后的效果
   ↓
7. 继续替换其他家具 (重复 4-6)
```

## 📊 状态指示

### 上传中
```
显示: 加载圈 + "Uploading..."
操作: 等待完成
```

### 检测中
```
显示: "AI is analyzing your room image..."
操作: 等待完成
```

### 处理中
```
显示: 加载圈在图片上
操作: 等待完成
```

### 完成
```
显示: 成功通知 + 处理后的图片
操作: 可继续操作
```

## 🎨 界面说明

### 上传区域
- 虚线边框 = 可点击上传
- 图片图标 = 拖拽上传
- 蓝色高亮 = 鼠标悬停

### 检测结果
- 绿色勾号 = 检测成功
- 百分比标签 = 置信度
- 蓝色/橙色 = 高/低置信度

### 控制面板
- 滑块 = 拖动调整
- 数值显示 = 当前值
- 按钮 = 执行操作

## 🚨 错误提示

### 文件格式错误
```
❌ "Only JPEG and PNG formats are supported"
解决: 转换图片格式
```

### 文件过大
```
❌ "File size must be less than 10MB"
解决: 压缩图片
```

### 上传失败
```
❌ "Failed to upload image. Please try again."
解决: 检查网络，重试
```

### 检测失败
```
❌ "Failed to detect furniture. Please try again."
解决: 使用更清晰的照片
```

## 📱 下一步

完成图片上传后，你可以：
1. 切换到"Chat"标签与 AI 讨论设计
2. 切换到"Cart"标签查看购物车
3. 在右侧查看 2D 可视化
4. 查看家具列表

## 🎉 开始使用

现在就试试上传你的房间照片，让 AI 帮你设计理想的空间！

访问: http://localhost:5173/planner
